{% load static %}

<div id="diagram-container" style="position: relative; width: 100%; height: 600px; border: 1px solid #ccc;">
    {% for box in boxes %}
    <div id="{{ box.id }}" class="diagram-box" 
         style="left: {{ box.x }}px; top: {{ box.y }}px; position: absolute; border: 1px solid black; padding: 10px; background: white;">
        <h3>{{ box.label }}</h3>
        <p>{{ box.description }}</p>
    </div>
    {% endfor %}
</div>
<!--Django creates an invisible div without escapes and still safe -->
{{ arrows|json_script:"arrows-data" }}

{% block extra_js %}
    <script src="{% static 'js/jsplumb.browser-ui.umd.min.js' %}"></script>
    <script src="{% static 'js/diagram.js' %}"></script>
{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/jsplumbtoolkit.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/diagram.css' %}">
{% endblock %}