{% load static %}

<div class="navbar bg-base-100 shadow-lg sticky top-0 z-50 border-b border-base-300 pr-8 pl-8">
    <div class="flex-1">
        <a href="{% url 'projects:project_list' %}" class="text-xl">
            <span class="text-2xl">ğŸ“‹</span>
            <span class="font-bold">Checklist Manager</span>
        </a>
    </div>

    <div class="flex-none gap-2">
        {% if user.is_authenticated %}
            {# User Dropdown Menu #}
            <div class="dropdown dropdown-end">
                <div tabindex="0" role="button" class="avatar avatar-placeholder">
                    <div class="bg-primary text-primary-content w-8 rounded-full">
                        <span class="text-md font-semibold">{{ user.username|first|upper }}</span>
                    </div>
                </div>
                <ul tabindex="0" class="mt-3 z-[1] p-2 shadow-lg menu menu-sm dropdown-content bg-base-100 rounded-box w-52 border border-base-300">
                    <li class="menu-title">
                        <span class="font-semibold text-base-content">{{ user.username }}</span>
                    </li>
                    <li>
                        <a href="{% url 'accounts:profile' %}" class="flex items-center gap-2">
                            <span>ğŸ‘¤</span>
                            <span>Profile</span>
                        </a>
                    </li>
                    {% if user.is_staff %}
                        <li>
                            <a href="{% url 'admin:index' %}" target="_blank" class="flex items-center gap-2">
                                <span>âš™ï¸</span>
                                <span>Admin</span>
                            </a>
                        </li>
                    {% endif %}
                    <li class="border-t border-base-300 mt-2"></li>
                    <li>
                        <form method="post" action="{% url 'accounts:logout' %}">
                            {% csrf_token %}
                            <button type="submit" class="flex items-center gap-2 w-full">
                                <span>ğŸšª</span>
                                <span>Logout</span>
                            </button>
                        </form>
                    </li>
                </ul>
            </div>
        {% else %}
            <a href="{% url 'accounts:login' %}" class="btn btn-primary">
                Login
            </a>
        {% endif %}
    </div>
</div>