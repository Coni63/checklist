<div class="card bg-base-200 shadow-sm" id="comment-{{ comment.id }}">
    <div class="card-body p-3">
        <div class="flex items-start justify-between gap-2 mb-2">
            <div class="flex items-center gap-2 flex-wrap">
                <span class="font-semibold text-base-content">{{ comment.user.username }}</span>
                <span class="text-xs text-base-content/60">{{ comment.created_at|timesince }} ago</span>
                {% if comment.updated_at != comment.created_at %}
                    <span class="badge badge-xs badge-ghost">edited</span>
                {% endif %}
            </div>
            {% if comment.user == user or 'admin' in roles %}
                <button
                    class="btn btn-ghost btn-xs text-error"
                    hx-delete="{% url 'projects:comment_delete' project_id=project_id step_id=step_id task_id=task_id comment_id=comment.id %}"
                    hx-target="#comment-{{ comment.id }}"
                    hx-swap="outerHTML"
                    hx-confirm="Are you sure you want to delete this comment?">
                    ğŸ—‘ï¸
                </button>
            {% endif %}
        </div>
        <p class="text-base-content/80 text-sm">{{ comment.comment_text }}</p>
    </div>
</div>